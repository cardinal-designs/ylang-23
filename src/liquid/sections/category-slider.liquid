{% capture schema %}
  {
  "settings": {
  "title": {{ section.settings.title | json }},
  "enable_slider":{{ section.settings.enable_slider | json }}
  },
  "blocks": [
  {% for block in section.blocks %}
    {
    "id": {{ block.id | json }},
    "type": {{ block.type | json }},
    "settings": {{ block.settings | json }}
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
  ]
  }
{% endcapture %}
<category-slider :schema="{{ schema | escape | strip }}" />
{% schema %}
  {
    "name": "Category Slider",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      }, {
        "type": "checkbox",
        "id": "enable_slider",
        "label": "Enable slider",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "slider-block",
        "name": "Slider Block",
        "settings": [
          {
            "type": "image_picker",
            "id": "slider_image",
            "label": "Image"
          }, {
            "type": "text",
            "id": "slider_title",
            "label": "Title"
          }, {
            "type": "url",
            "id": "slider_link_url",
            "label": "Slider Link Url"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "category",
        "name": "Category Slider"
      }
    ]
  }
{% endschema %}
